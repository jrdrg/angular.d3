!function(){"use strict";angular.module("angular.d3",[])}(),function(){"use strict";function t(t,r,n){var e=r[0],a=d3.select(e).append("svg").attr("width","100%").attr("height","100%"),i=a.append("g");this.getChart=function(){return i},this.getContainer=function(){return a},this.getData=function(){return t.data},this.getHeight=function(){return e.offsetHeight},this.getWidth=function(){return e.offsetWidth}}function r(){return{restrict:"AE",scope:{data:"="},controller:t}}angular.module("angular.d3").directive("chartContainer",r)}(),function(){"use strict";function t(){function t(t,r){var n=r.data||[],e=(r.height||1,r.width||1);t.selectAll("g").remove();var a=20,i=d3.scale.linear().domain([0,d3.max(n)]).range([0,e]);t.attr("width",e).attr("height",a*n.length);var u=t.selectAll("g").data(n).enter().append("g").attr("class","horizontal-bar").attr("transform",function(t,r){return"translate(0, "+r*a+")"});u.append("rect").attr("width",i).attr("height",a-1).attr("width",0).transition().delay(function(t,r){return 20*r}).attr("width",function(t,r){return i(t)}),u.append("text").attr("x",function(t,r){return i(t)-3}).attr("y",a/2).attr("dy","0.35em").text(function(t,r){return t})}return{restrict:"AE",require:"^chartContainer",scope:{x:"@?",y:"@?"},link:function(r,n,e,a){var i=a.getChart();r.$watch(function(){return a.getData()},function(r,n){var e={data:r,width:a.getWidth(),height:a.getHeight()};t(i,e),console.log("refresh data, horizontal bars")},!0)}}}angular.module("angular.d3").directive("horizontalBars",t)}(),function(){"use strict";function t(){return{restrict:"AE",require:"^chartContainer",link:function(t,r,n,e){console.log("vertical bar")}}}angular.module("angular.d3").directive("verticalBars",t)}();