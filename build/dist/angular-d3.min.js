!function(){"use strict";angular.module("angular.d3",[])}(),function(){"use strict";function t(t,r,n){var a=r[0],e=t.data,i=d3.select(a).append("svg").attr("width","100%").attr("height","100%"),u=i.append("g");this.getChart=function(){return u},this.getContainer=function(){return i},this.getData=function(){return e},this.getHeight=function(){return a.offsetHeight},this.getWidth=function(){return a.offsetWidth}}function r(){return{restrict:"AE",scope:{data:"="},controller:t}}angular.module("angular.d3").directive("chartContainer",r)}(),function(){"use strict";function t(){function t(t,r){var n=r.data||[],a=(r.height||1,r.width||1),e=20,i=d3.scale.linear().domain([0,d3.max(n)]).range([0,a]);t.attr("width",a).attr("height",e*n.length);var u=t.selectAll("g").data(n).enter().append("g").attr("class","horizontal-bar").attr("transform",function(t,r){return"translate(0, "+r*e+")"});u.transition();d3.max(n);u.append("rect").attr("width",i).attr("height",e-1).attr("width",0).transition().delay(function(t,r){return 10*r}).attr("width",function(t,r){return i(t)}),u.append("text").attr("x",function(t,r){return i(t)-3}).attr("y",e/2).attr("dy","0.35em").text(function(t,r){return t})}return{restrict:"AE",require:"^chartContainer",scope:{x:"@?",y:"@?"},link:function(r,n,a,e){var i=e.getChart();r.$watch(function(){return e.getData()},function(r,n){var a={data:r,width:e.getWidth(),height:e.getHeight()};t(i,a),console.log("refresh data, horizontal bars")})}}}angular.module("angular.d3").directive("horizontalBars",t)}(),function(){"use strict";function t(){return{restrict:"AE",require:"^chartContainer",link:function(t,r,n,a){console.log("vertical bar")}}}angular.module("angular.d3").directive("verticalBars",t)}();